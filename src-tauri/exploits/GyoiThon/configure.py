import sys
import shutil

mode = sys.argv[1]
fileName = sys.argv[2]

with open(fileName,"a+") as file:
    if mode == "-clear":
        try:   
            file.truncate(0)
        except (IOError) as x:
            print(x)
        else:
            print("Target Cleared!")
    if mode == "-add":
        protocol = sys.argv[3]
        ip = sys.argv[4]
        port = sys.argv[5]
        text = f"{protocol} {ip} {port} /"
        try:
            file.write(text+"\n")
        except IOError as x:
            print(x)
        else:
            print(f"Target '{text}' added!")
    if mode == "-import":
        importFile = sys.argv[3]
        try:
            shutil.copyfile(importFile,fileName)
        except IOError as x:
            print(x)
        else:
            print(f"{importFile} is imported successfully")





